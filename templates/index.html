<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeoTag Pro - Advanced Photo Geotagging</title>
    <meta name="description" content="Professional photo geotagging tool. Add GPS coordinates and metadata to your images with ease.">
    
    <!-- Leaflet CSS for maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                        <circle cx="12" cy="10" r="3"></circle>
                    </svg>
                    <h1>GeoTag Pro</h1>
                </div>
                <nav class="nav">
                    <a href="#how-it-works">How It Works</a>
                    <a href="#faq">FAQ</a>
                    <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                        <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                        <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                    </button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <div class="grid">
                <!-- Left Column -->
                <div class="col-main">
                    <!-- Upload Zone -->
                    <div class="upload-zone" id="upload-zone">
                        <input type="file" id="file-input" accept="image/*" multiple hidden>
                        <div class="upload-content">
                            <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                            <h3>Drop images here or click to upload</h3>
                            <p>Supports JPG, PNG, WebP, HEIC (Max 50MB per file)</p>
                        </div>
                    </div>

                    <!-- Batch Controls -->
                    <div class="batch-controls hidden" id="batch-controls">
                        <div class="batch-info">
                            <span><span id="selected-count">0</span> of <span id="total-count">0</span> selected</span>
                        </div>
                        <div class="batch-actions">
                            <button id="select-all-btn" class="btn btn-secondary">Select All</button>
                            <button id="deselect-all-btn" class="btn btn-secondary">Deselect All</button>
                            <button id="apply-batch-btn" class="btn btn-primary">Apply to Selected</button>
                        </div>
                    </div>

                    <!-- Image Gallery -->
                    <div class="image-gallery hidden" id="image-gallery">
                        <h3>Uploaded Images (<span id="gallery-count">0</span>)</h3>
                        <div class="gallery-grid" id="gallery-grid"></div>
                    </div>

                    <!-- Map Section -->
                    <div class="map-section">
                        <div class="map-header">
                            <h3>Set Location</h3>
                            <div class="map-controls">
                                <select id="map-layer-select" class="select">
                                    <option value="streets">Street Map</option>
                                    <option value="satellite">Satellite</option>
                                    <option value="terrain">Terrain</option>
                                </select>
                            </div>
                        </div>
                        <div class="search-box">
                            <input type="text" id="location-search" placeholder="Search location..." class="input">
                            <button id="search-btn" class="btn btn-primary">Search</button>
                        </div>
                        <div id="map" class="map"></div>
                    </div>

                    <!-- Location Templates -->
                    <div class="card">
                        <div class="card-header">
                            <h3>Location Templates</h3>
                            <button id="save-template-btn" class="btn btn-secondary">Save Current Location</button>
                        </div>
                        <div class="template-list" id="template-list">
                            <p class="text-muted">No saved templates</p>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Metadata Panel -->
                <div class="col-sidebar">
                    <!-- Metadata Card -->
                    <div class="card">
                        <div class="card-header">
                            <h3>Metadata Editor</h3>
                        </div>
                        <div class="card-body">
                            <div class="form-group">
                                <label>Latitude</label>
                                <input type="number" id="latitude-input" step="0.000001" value="40.7128" class="input">
                            </div>
                            <div class="form-group">
                                <label>Longitude</label>
                                <input type="number" id="longitude-input" step="0.000001" value="-74.0060" class="input">
                            </div>
                            <div class="form-group">
                                <label>Keywords</label>
                                <input type="text" id="keywords-input" placeholder="landscape, nature, photography" class="input">
                                <small class="text-muted">Comma-separated</small>
                            </div>
                            <div class="form-group">
                                <label>Description</label>
                                <textarea id="description-input" rows="3" placeholder="Image description..." class="input"></textarea>
                            </div>
                            <div class="form-group">
                                <label>Document Name</label>
                                <input type="text" id="document-name-input" placeholder="My Photo" class="input">
                            </div>
                        </div>
                    </div>

                    <!-- Advanced EXIF -->
                    <div class="card">
                        <div class="card-header collapsible" id="advanced-exif-header">
                            <h3>Advanced EXIF Fields</h3>
                            <span class="toggle-icon">▼</span>
                        </div>
                        <div class="card-body hidden" id="advanced-exif-body">
                            <div class="form-group">
                                <label>Copyright</label>
                                <input type="text" id="copyright-input" placeholder="© 2024 Your Name" class="input">
                            </div>
                            <div class="form-group">
                                <label>Artist/Creator</label>
                                <input type="text" id="artist-input" placeholder="John Doe" class="input">
                            </div>
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="card">
                        <div class="card-body">
                            <button id="process-btn" class="btn btn-primary btn-block">Process & Download</button>
                            <button id="export-zip-btn" class="btn btn-secondary btn-block">Export All as ZIP</button>
                            <button id="clear-btn" class="btn btn-outline btn-block">Clear Metadata</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- How It Works Section -->
    <section id="how-it-works" class="section">
        <div class="container">
            <h2>How It Works</h2>
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3>Upload Images</h3>
                    <p>Drag and drop your photos or click to browse. Supports multiple formats.</p>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3>Set Location</h3>
                    <p>Click on the map or search for a location to add GPS coordinates.</p>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3>Add Metadata</h3>
                    <p>Fill in keywords, descriptions, and other EXIF information.</p>
                </div>
                <div class="step-card">
                    <div class="step-number">4</div>
                    <h3>Download</h3>
                    <p>Process and download your geotagged images individually or as a ZIP.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="section">
        <div class="container">
            <h2>Frequently Asked Questions</h2>
            <div class="faq-list">
                <div class="faq-item">
                    <h3>What image formats are supported?</h3>
                    <p>We support JPG, PNG, WebP, and HEIC formats. Maximum file size is 50MB per image.</p>
                </div>
                <div class="faq-item">
                    <h3>Are my images stored on your server?</h3>
                    <p>No, all processing happens in your browser or temporarily on the server. Images are not permanently stored.</p>
                </div>
                <div class="faq-item">
                    <h3>Can I process multiple images at once?</h3>
                    <p>Yes! Upload multiple images and use the batch controls to apply the same geotag to all selected images.</p>
                </div>
                <div class="faq-item">
                    <h3>What is a location template?</h3>
                    <p>Location templates let you save frequently used locations for quick access later.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>© 2024 GeoTag Pro. All uploaded images are processed securely and not stored.</p>
        </div>
    </footer>

    <!-- Loading Overlay -->
    <div class="loading-overlay hidden" id="loading-overlay">
        <div class="spinner"></div>
        <p>Processing images...</p>
    </div>

    <!-- Toast Notification -->
    <div class="toast hidden" id="toast"></div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="/static/js/app.js"></script>
</body>
</html>
